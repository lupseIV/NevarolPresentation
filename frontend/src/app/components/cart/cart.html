<div class="container">
  <h1 style="margin-bottom: 2rem; font-size: 2.5rem; font-weight: 700; color: var(--text-primary);">Shopping Cart</h1>
  
  @if (cartItems.length === 0) {
    <div class="card" style="text-align: center; padding: 4rem 2rem;">
      <p style="font-size: 1.25rem; color: var(--text-secondary); margin-bottom: 1.5rem;">Your cart is empty</p>
      <a routerLink="/products" class="btn btn-primary">Continue Shopping</a>
    </div>
  } @else {
    <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: var(--shadow-md);">
      <table class="table">
        <thead>
          <tr>
            <th>Product</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          @for (item of cartItems; track item.productId) {
            <tr>
              <td><strong>{{ item.product.name }}</strong></td>
              <td style="color: var(--secondary-color); font-weight: 600;">${{ item.product.price }}</td>
              <td>
                <input type="number" [value]="item.quantity" 
                       (change)="updateQuantity(item.productId, +$any($event.target).value)"
                       min="1" style="width: 70px; padding: 0.5rem; border: 2px solid var(--border-color); border-radius: 6px; text-align: center;">
              </td>
              <td style="font-weight: 600; color: var(--text-primary);">${{ (item.product.price * item.quantity).toFixed(2) }}</td>
              <td>
                <button class="btn btn-danger" (click)="removeItem(item.productId)" style="padding: 0.5rem 1rem;">Remove</button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
    
    <div style="margin-top: 2rem; background: white; padding: 2rem; border-radius: 12px; box-shadow: var(--shadow-md);">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
        <h3 style="font-size: 1.5rem; color: var(--text-primary);">Order Summary</h3>
        <h2 style="font-size: 2rem; font-weight: 700; color: var(--secondary-color);">${{ total.toFixed(2) }}</h2>
      </div>
      <div style="display: flex; gap: 1rem; justify-content: flex-end;">
        <button class="btn btn-danger" (click)="clearCart()">Clear Cart</button>
        <a routerLink="/checkout" class="btn btn-success" style="text-decoration: none;">Proceed to Checkout</a>
      </div>
    </div>
  }
</div>
